configurations:
  agentic_cypher_gpt-4.1-mini_qa_westpoint:
    dsg_interface:
      dsg_interface_type: none
    phases:
      main:
        agent_info:
          max_iterations: 6
          prompt_settings:
            base_prompt:
              answer_formatting_guidance: null
              answer_semantic_guidance: null
              in_context_examples: null
              in_context_examples_preamble: null
              novel_instruction: null
              novel_instruction_preamble: 'Now, use cypher queries to answer this
                question:'
              novel_instruction_template: '{question}'
              system: ' You are a helpful assistant who is an expert at mapping from
                natural language queries to Cypher queries for a Neo4j graph database.
                You have access to a database representing a 3D scene graph, which
                stores spatial information that a robot can use to understand the
                world. Given a query, your task is to generate a Cypher query that
                retrieves the relevant information from the database.

                Labels in Database: - Object: a node representing an object in the
                world. Object Properties: - nodeSymbol: a unique string identifier
                - class: a string identifying the object''s semantic class or type
                - center: the 3D position of the object, as a POINT type - MeshPlace:
                a node representing a 2D segment of space the robot might be able
                to move to. - nodeSymbol: a unique string identifier - class: a string
                identifying the place''s semantic class or type - center: the 3D position
                of the mesh place, as a POINT type - Place: a node representing a
                3D region of free space - nodeSymbol: a unique string identifier -
                center: the 3D position of the place, as a POINT type - Room: a node
                representing a room or higher-level region - nodeSymbol: a unique
                string identifier - center: the 3D position of the room, as a POINT
                type

                Object, MeshPlace, Place, and Room are all Cypher labels attached
                to nodes.

                Places and Mesh Places represent a higher level of the hierarchy compared
                to objects, but lower level than rooms.

                There are two kinds of existing edges. First is (a)-[:CONTAINS]->(b),
                which connects nodes between different layers and means that b is
                contained within a. Nodes in higher levels of the hierarchy may contain
                nodes in lower levels of the hierarchy, but nodes in the lower level
                of the hierarchy will not contain higher-level nodes. The other kind
                of edges represent connectivity within a layer: [:OBJECT_CONNECTED],
                [:PLACE_CONNECTED], [:MESH_PLACE_CONNECTED], [:ROOM_CONNECTED].

                Note that in the current version of cypher, `distance` has been replaced
                by `point.distance`. Also, do not use any apoc functions in your queries.

                If the query you generate is invalid, fails to run, or produces an
                error or unexpected output, retry by correcting the Cypher based on
                feedback or known schema rules.

                You can call the cypher query tool up to 5 times. Use chain of thought
                to think along the way. '
              tool_description: null
            output_type: SLDP
            sldp_answer_type_hint: true
          tool_interface: openai
          tools:
          - bound_args:
              dsgdb_conf:
                dsg_interface_type: heracles
                uri: neo4j://127.0.0.1:7687
            name: run_cypher_query
        client:
          client_type: openai
          timeout: 120
        model_info:
          model: gpt-4.1-mini
          seed: null
          temperature: 0.2
    pipeline: agentic
    questions:
    - correctness_comparator:
        comparison_type: SLDP
        relation: equal
      name: Distinct Classes
      question: What are the distinct object classes?
      solution: <tree, fence, vehicle, seating, window, sign, pole, door, box, trash,
        rock, bag>
    - correctness_comparator:
        comparison_type: SLDP
        relation: equal
      name: Distinct Counts
      question: How many of each object type are there?
      solution: '{tree: 163, fence: 17, vehicle: 26, seating: 9, window: 1, sign:
        6, pole: 21, door: 3, box: 4, trash: 1, rock: 62, bag: 1}'
    - correctness_comparator:
        comparison_type: SLDP
        relation: equal
      name: Sign Locations
      question: Give me the location of all signs in the scene graph
      solution: "<POINT(-8.284313559532166 -14.206965416035754 1.9744174981370886),\n\
        \ POINT(-30.409549247386845 -15.735817166261894 1.419422089360481),\n POINT(-29.527192555941067\
        \ -11.574765984828655 1.4839779872160692),\n POINT(-29.246166506680574 -8.68991950641979\
        \ 1.4494154886765913),\n POINT(-29.16052139096144 -7.293464509452262 1.556024234469344),\n\
        \ POINT(-69.23055948529925 83.1722952524821 0.790333880555062)>\n"
    - correctness_comparator:
        comparison_type: SLDP
        relation: equal
      name: Objects Near Point
      question: What object node symbols are within 10 meters of x:-100, y:16, z:0?
      solution: <O370, O371, O372, O373>
    - correctness_comparator:
        comparison_type: SLDP
        relation: equal
      name: MeshPlaces within 5 hops
      question: How many mesh places are within 5 hops of mesh place P1832 (not including
        the starting place).
      solution: '141'
    - correctness_comparator:
        comparison_type: SLDP
        relation: equal
      name: Objects in Rooms
      question: What kinds of objects are in Room R91
      solution: <tree, window, pole>
metadata:
  config_name: agentic_cypher_gpt-4.1-mini_qa_westpoint
  dsg_tag: westpoint
