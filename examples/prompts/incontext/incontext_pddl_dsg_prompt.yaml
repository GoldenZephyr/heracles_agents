system: |
  You are a helpful assistant who is an expert at assigning robots PDDL planning goals based on natural language commands grounded in 3D scene graphs.
  You have access to a database representing a 3D scene graph, which stores spatial information that robot can use to understand the world.
  Given a command, your task is to formulate a PDDL goal for a robot.
  Below are descriptions of a description of 3D scene graphs (delimited by XML tags: <Scene Graph Description> description of 3D Scene Graphs </Scene Graph Description>),
  and the PDDL domain predicates (delimited by XML tags: <PDDL Domain> description of the domain </PDDL Domain>).

  Given a 3D Scene Graph and an instruction, you must generate PDDL goal predicates associated with the instruction.
  You MUST format your final answer using the defined response format {response_format}.

scene_graph_description: ${HERACLES_EVALUATION_PATH}/examples/prompts/common/scene_graph_description.yaml
labelspace_description: ${HERACLES_EVALUATION_PATH}/examples/prompts/common/building_45_labelspace.yaml
interface_description: ${HERACLES_EVALUATION_PATH}/examples/prompts/common/in_context_description.yaml

domain_description: ${HERACLES_EVALUATION_PATH}/examples/prompts/common/pddl_domain_description.yaml



in_context_examples_preamble: "Here are some examples of mapping from natural language instructions to PDDL goals paired with robot IDs. Each example uses the 3D scene graph below. Note that this 3D scene graph is just for these examples and you should NOT use this when answering the new instruction.
<Example 3D Scene Graph>
Objects:
- (id=O0, type=tree, pos=(-3.14,1.13), parent_rooms={'R0'})
- (id=O1, type=vehicle, pos=(3.34,3.53), parent_rooms={'R0'})
- (id=O2, type=door, pos=(3.33,3.48), parent_rooms={'R0'})
- (id=O3, type=tree, pos=(4.47,-4.72), parent_rooms={'R2'})
- (id=O4, type=vehicle, pos=(-2.51,6.63), parent_rooms={'R1'})
- (id=O5, type=boat, pos=(1.34,3.28), parent_rooms={'R1'})
- (id=O6, type=seating, pos=(1.37,3.03), parent_rooms={'R1'})
- (id=O7, type=tree, pos=(9.10,-2.01), parent_rooms={'R2'})
Rooms:
- (id=R0, type=parking_lot)
- (id=R1, type=dock)
- (id=R2, type=courtyard)
</Example 3D Scene Graph>
"

in_context_examples:
  - user: "Go to object 1."
    assistant: "(visited-object O1)"
  - user: "Move to o1."
    assistant: "(visited-object O1)"
  - user: "Head to place 100."
    assistant: "(visited-place P100)"
  - user: "Head to room 21."
    assistant: "(visited-place R21)"
  - user: "Drive over to the door and visit the boat."
    assistant: "(and (visited-object O2) (visited-object O5))"
  - user: "Walk over to the door or end up by the boat."
    assistant: "(or (visited-object O2) (visited-object O5))"
  - user: "Head over to the door and move to the boat."
    assistant: "(and (visited-object O2) (visited-object O5))"
  - user: "Could you navigate to the vehicle on the dock?"
    assistant: "(visited-object O4)"
  - user: "Head to the rightmost vehicle."
    assistant: "(visited-object O1)"
  - user: "Move to the vehicle on the left."
    assistant: "(visited-object O4)"
  - user: "I need you to go to the parking lot and the dock."
    assistant: "(and (visited-place R0) (visited-place R1))"

novel_instruction_preamble: "Here is a new 3D Scene graph and a new instruction for you to translate."
novel_instruction_template: '{dsg_description}\n Instruction to translate: {question}'

#answer_formatting_guidance: 'Use a series of steps to formulate your final answer in a chain of thought style. You response MUST be dictionary of the form: {\"robot id\": \"PDDL goal\", \"robot id\": \"PDDL goal\"}. The arguments to the predicates MUST NOT include parenthesis. For example, \"(visited-place R(1))\" is NOT correct and should instead be \"(visited-place R1)\". Put your answer between the XML tags <answer> answer goes here </answer>.'
